2025-07-26 20:46:55,115 - __main__ - INFO - Creating session for user: user_bengaluru and session: session_bengaluru
2025-07-26 20:46:55,116 - __main__ - INFO - Running agent for city: bengaluru
2025-07-26 20:46:55,158 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.VERTEX_AI, stream: False
2025-07-26 20:46:55,158 - google_adk.google.adk.models.google_llm - INFO - 
LLM Request:
-----------------------------------------------------------
System Instruction:
Given the city name 'bengaluru', perform a Google search to find movies playing today. For each movie you find, perform a separate search for its showtimes in 'bengaluru'. Focus on extracting the movie name, genre, language, and a brief description. Then, for each movie, find the theaters and their showtimes. It is crucial to return the information in a valid JSON format. If you cannot find specific details for a field (e.g., genre, showtimes), use 'N/A' or an empty list. The final output must be a JSON object like this example: {{ "city": "bengaluru", "movies": [ {{"name": "Movie Name", "genre": "Action", "language": "English", "certificate": "U/A", "description": "A short description.", "locations_available": {{"Theatre Name 1": ["10:00 AM", "1:00 PM"], "Theatre Name 2": ["4:00 PM"]}} }} ] }}

You are an agent. Your internal name is "MovieAgent".

 The description about you is "Fetch movie showtimes in the city"
-----------------------------------------------------------
Contents:
{"parts":[{"text":"bengaluru"}],"role":"user"}
-----------------------------------------------------------
Functions:

-----------------------------------------------------------

2025-07-26 20:46:55,158 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-07-26 20:46:55,220 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.VERTEX_AI, stream: False
2025-07-26 20:46:55,220 - google_adk.google.adk.models.google_llm - INFO - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are an expert food blogger's assistant. Given the city 'bengaluru', perform a Google Search to find the top-rated vegetarian and non-vegetarian restaurants. For each restaurant, you must extract its name, primary cuisine type, address, and rating. To find the rating, look for text like '4.5 stars', 'Rating: 4.2/5', or similar patterns in the search results. The rating should be a number (e.g., 4.2). If you absolutely cannot find a rating for a specific restaurant after searching, you may use `null` for that field. Return the final output as a single, valid JSON object with two keys: 'veg_restaurants' and 'nonveg_restaurants'. JSON structure: {{ city: ..., veg_restaurants: [ {{ name, cuisine, rating, address }} ], nonveg_restaurants: [ {{ name, cuisine, rating, address }} ] }}

You are an agent. Your internal name is "RestaurantAgent".

 The description about you is "Fetch vegetarian and nonâ€‘vegetarian restaurants via Google Search in the given city."
-----------------------------------------------------------
Contents:
{"parts":[{"text":"bengaluru"}],"role":"user"}
-----------------------------------------------------------
Functions:

-----------------------------------------------------------

2025-07-26 20:46:55,220 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-07-26 20:46:55,276 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.0-flash, backend: GoogleLLMVariant.VERTEX_AI, stream: False
2025-07-26 20:46:55,277 - google_adk.google.adk.models.google_llm - INFO - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are an events coordinator for the city of 'bengaluru'. Search for upcoming concerts and live music events in 'bengaluru'. For each event, extract the following information: 1. `name`: The official name of the event or concert. 2. `date`: The date of the event. Standardize this to 'YYYY-MM-DD' format. If the event spans multiple days, use the start date. 3. `venue`: The name of the location where the event is held. 4. `description`: A brief description. Try to include the genre of music or the primary artist if this information is available. If there are no upcoming concerts, return an empty list for the 'concerts' key. Respond as a single, valid JSON object: {{ city: ..., concerts: [ {{ name, date, venue, description }} ] }}

You are an agent. Your internal name is "ConcertAgent".

 The description about you is "Fetch upcoming concerts in the given city using Google Search."
-----------------------------------------------------------
Contents:
{"parts":[{"text":"bengaluru"}],"role":"user"}
-----------------------------------------------------------
Functions:

-----------------------------------------------------------

2025-07-26 20:46:55,277 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-07-26 20:47:02,571 - google_adk.google.adk.models.google_llm - INFO - 
LLM Response:
-----------------------------------------------------------
Text:
```json
{
  "city": "bengaluru",
  "movies": [
    {
      "name": "Hari Hara Veera Mallu",
      "genre": "Action, Adventure",
      "language": "Telugu, Kannada",
      "certificate": "U/A",
      "description": "An upcoming movie.",
      "locations_available": {}
    },
    {
      "name": "Saiyaara",
      "genre": "N/A",
      "language": "Hindi",
      "certificate": "N/A",
      "description": "N/A",
      "locations_available": {}
    },
    {
      "name": "Maareesan",
      "genre": "N/A",
      "language": "Tamil",
      "certificate": "N/A",
      "description": "N/A",
      "locations_available": {}
    },
    {
      "name": "Thalaivan Thalaivii",
      "genre": "N/A",
      "language": "Tamil",
      "certificate": "N/A",
      "description": "N/A",
      "locations_available": {}
    },
    {
      "name": "The Fantastic Four: First Steps",
      "genre": "Action, Adventure, Superhero, Sci-Fi",
      "language": "English, Hindi, Tamil, Telugu",
      "certificate": "U/A",
      "description": "N/A",
      "locations_available": {}
    },
    {
      "name": "Ekka",
      "genre": "N/A",
      "language": "Kannada",
      "certificate": "N/A",
      "description": "N/A",
      "locations_available": {}
    },
    {
      "name": "Mahavatar Narsimha",
      "genre": "Mythological, Action, Animation, Drama",
      "language": "Hindi, Tamil, Telugu, Kannada, Malayalam",
      "certificate": "N/A",
      "description": "N/A",
      "locations_available": {}
    },
    {
      "name": "Jurassic World Rebirth",
      "genre": "N/A",
      "language": "English",
      "certificate": "N/A",
      "description": "N/A",
      "locations_available": {}
    },
    {
      "name": "Su From So",
      "genre": "Comedy, Horror",
      "language": "Kannada",
      "certificate": "N/A",
      "description": "N/A",
      "locations_available": {}
    },
    {
      "name": "Bandook",
      "genre": "Crime, Drama",
      "language": "Kannada",
      "certificate": "N/A",
      "description": "N/A",
      "locations_available": {}
    }
  ]
}
```
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"Content-Type":"application/json; charset=UTF-8","Vary":"Origin, X-Origin, Referer","Content-Encoding":"gzip","Date":"Sat, 26 Jul 2025 15:17:02 GMT","Server":"scaffolding on HTTPServer2","X-XSS-Protection":"0","X-Frame-Options":"SAMEORIGIN","X-Content-Type-Options":"nosniff","Alt-Svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","Transfer-Encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"```json\n{\n  \"city\": \"bengaluru\",\n  \"movies\": [\n    {\n      \"name\": \"Hari Hara Veera Mallu\",\n      \"genre\": \"Action, Adventure\",\n      \"language\": \"Telugu, Kannada\",\n      \"certificate\": \"U/A\",\n      \"description\": \"An upcoming movie.\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"Saiyaara\",\n      \"genre\": \"N/A\",\n      \"language\": \"Hindi\",\n      \"certificate\": \"N/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"Maareesan\",\n      \"genre\": \"N/A\",\n      \"language\": \"Tamil\",\n      \"certificate\": \"N/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"Thalaivan Thalaivii\",\n      \"genre\": \"N/A\",\n      \"language\": \"Tamil\",\n      \"certificate\": \"N/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"The Fantastic Four: First Steps\",\n      \"genre\": \"Action, Adventure, Superhero, Sci-Fi\",\n      \"language\": \"English, Hindi, Tamil, Telugu\",\n      \"certificate\": \"U/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"Ekka\",\n      \"genre\": \"N/A\",\n      \"language\": \"Kannada\",\n      \"certificate\": \"N/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"Mahavatar Narsimha\",\n      \"genre\": \"Mythological, Action, Animation, Drama\",\n      \"language\": \"Hindi, Tamil, Telugu, Kannada, Malayalam\",\n      \"certificate\": \"N/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"Jurassic World Rebirth\",\n      \"genre\": \"N/A\",\n      \"language\": \"English\",\n      \"certificate\": \"N/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"Su From So\",\n      \"genre\": \"Comedy, Horror\",\n      \"language\": \"Kannada\",\n      \"certificate\": \"N/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    },\n    {\n      \"name\": \"Bandook\",\n      \"genre\": \"Crime, Drama\",\n      \"language\": \"Kannada\",\n      \"certificate\": \"N/A\",\n      \"description\": \"N/A\",\n      \"locations_available\": {}\n    }\n  ]\n}\n```"}],"role":"model"},"finish_reason":"STOP","grounding_metadata":{"retrieval_metadata":{},"search_entry_point":{"rendered_content":"<style>\n.container {\n  align-items: center;\n  border-radius: 8px;\n  display: flex;\n  font-family: Google Sans, Roboto, sans-serif;\n  font-size: 14px;\n  line-height: 20px;\n  padding: 8px 12px;\n}\n.chip {\n  display: inline-block;\n  border: solid 1px;\n  border-radius: 16px;\n  min-width: 14px;\n  padding: 5px 16px;\n  text-align: center;\n  user-select: none;\n  margin: 0 8px;\n  -webkit-tap-highlight-color: transparent;\n}\n.carousel {\n  overflow: auto;\n  scrollbar-width: none;\n  white-space: nowrap;\n  margin-right: -12px;\n}\n.headline {\n  display: flex;\n  margin-right: 4px;\n}\n.gradient-container {\n  position: relative;\n}\n.gradient {\n  position: absolute;\n  transform: translate(3px, -9px);\n  height: 36px;\n  width: 9px;\n}\n@media (prefers-color-scheme: light) {\n  .container {\n    background-color: #fafafa;\n    box-shadow: 0 0 0 1px #0000000f;\n  }\n  .headline-label {\n    color: #1f1f1f;\n  }\n  .chip {\n    background-color: #ffffff;\n    border-color: #d2d2d2;\n    color: #5e5e5e;\n    text-decoration: none;\n  }\n  .chip:hover {\n    background-color: #f2f2f2;\n  }\n  .chip:focus {\n    background-color: #f2f2f2;\n  }\n  .chip:active {\n    background-color: #d8d8d8;\n    border-color: #b6b6b6;\n  }\n  .logo-dark {\n    display: none;\n  }\n  .gradient {\n    background: linear-gradient(90deg, #fafafa 15%, #fafafa00 100%);\n  }\n}\n@media (prefers-color-scheme: dark) {\n  .container {\n    background-color: #1f1f1f;\n    box-shadow: 0 0 0 1px #ffffff26;\n  }\n  .headline-label {\n    color: #fff;\n  }\n  .chip {\n    background-color: #2c2c2c;\n    border-color: #3c4043;\n    color: #fff;\n    text-decoration: none;\n  }\n  .chip:hover {\n    background-color: #353536;\n  }\n  .chip:focus {\n    background-color: #353536;\n  }\n  .chip:active {\n    background-color: #464849;\n    border-color: #53575b;\n  }\n  .logo-light {\n    display: none;\n  }\n  .gradient {\n    background: linear-gradient(90deg, #1f1f1f 15%, #1f1f1f00 100%);\n  }\n}\n</style>\n<div class=\"container\">\n  <div class=\"headline\">\n    <svg class=\"logo-light\" width=\"18\" height=\"18\" viewBox=\"9 9 35 35\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M42.8622 27.0064C42.8622 25.7839 42.7525 24.6084 42.5487 23.4799H26.3109V30.1568H35.5897C35.1821 32.3041 33.9596 34.1222 32.1258 35.3448V39.6864H37.7213C40.9814 36.677 42.8622 32.2571 42.8622 27.0064V27.0064Z\" fill=\"#4285F4\"/>\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M26.3109 43.8555C30.9659 43.8555 34.8687 42.3195 37.7213 39.6863L32.1258 35.3447C30.5898 36.3792 28.6306 37.0061 26.3109 37.0061C21.8282 37.0061 18.0195 33.9811 16.6559 29.906H10.9194V34.3573C13.7563 39.9841 19.5712 43.8555 26.3109 43.8555V43.8555Z\" fill=\"#34A853\"/>\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16.6559 29.8904C16.3111 28.8559 16.1074 27.7588 16.1074 26.6146C16.1074 25.4704 16.3111 24.3733 16.6559 23.3388V18.8875H10.9194C9.74388 21.2072 9.06992 23.8247 9.06992 26.6146C9.06992 29.4045 9.74388 32.022 10.9194 34.3417L15.3864 30.8621L16.6559 29.8904V29.8904Z\" fill=\"#FBBC05\"/>\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M26.3109 16.2386C28.85 16.2386 31.107 17.1164 32.9095 18.8091L37.8466 13.8719C34.853 11.082 30.9659 9.3736 26.3109 9.3736C19.5712 9.3736 13.7563 13.245 10.9194 18.8875L16.6559 23.3388C18.0195 19.2636 21.8282 16.2386 26.3109 16.2386V16.2386Z\" fill=\"#EA4335\"/>\n    </svg>\n    <svg class=\"logo-dark\" width=\"18\" height=\"18\" viewBox=\"0 0 48 48\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle cx=\"24\" cy=\"23\" fill=\"#FFF\" r=\"22\"/>\n      <path d=\"M33.76 34.26c2.75-2.56 4.49-6.37 4.49-11.26 0-.89-.08-1.84-.29-3H24.01v5.99h8.03c-.4 2.02-1.5 3.56-3.07 4.56v.75l3.91 2.97h.88z\" fill=\"#4285F4\"/>\n      <path d=\"M15.58 25.77A8.845 8.845 0 0 0 24 31.86c1.92 0 3.62-.46 4.97-1.31l4.79 3.71C31.14 36.7 27.65 38 24 38c-5.93 0-11.01-3.4-13.45-8.36l.17-1.01 4.06-2.85h.8z\" fill=\"#34A853\"/>\n      <path d=\"M15.59 20.21a8.864 8.864 0 0 0 0 5.58l-5.03 3.86c-.98-2-1.53-4.25-1.53-6.64 0-2.39.55-4.64 1.53-6.64l1-.22 3.81 2.98.22 1.08z\" fill=\"#FBBC05\"/>\n      <path d=\"M24 14.14c2.11 0 4.02.75 5.52 1.98l4.36-4.36C31.22 9.43 27.81 8 24 8c-5.93 0-11.01 3.4-13.45 8.36l5.03 3.85A8.86 8.86 0 0 1 24 14.14z\" fill=\"#EA4335\"/>\n    </svg>\n    <div class=\"gradient-container\"><div class=\"gradient\"></div></div>\n  </div>\n  <div class=\"carousel\">\n    <a class=\"chip\" href=\"https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFFolGR9HuUKppSm2ByiwwZEPU99YBZNJHp2v8fkf_F5V6CcNa7jYh_UFJlDlPFb7hg5kGGPCunuHc0_xqkSw2DsNmCFs4rgM24lP3zJgamBEKjXrXYSVHRTlq7K6g_SErpG-DgZTmJAmBcCGzrboPMwE0cY43uQErAxZDUucIDn0FP4i7V8yBJoLUnrkNlmfeZCqxSUT8vxXQ7ZOb-aA==\">movie showtimes in bengaluru</a>\n    <a class=\"chip\" href=\"https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFJJfvxQfrkVLXCHvNxfiwmtQjQ0uyVSzdK9u0_TuusV8T3z6fhuECXKPqD3dwrR6XkJ_09VcFzGsnS2q9w4Ha_i-CXMX9SAHOapamLboHFfiwNCCs9482aRYFWkUTuAwG-hWRRlKGKpSjv7tA0YAbNZBoQLXwjvE2QcdRhTDTENhF74qLuOyiSyyaW-0QMQbW3OQHdNi2F6XqJLLcLV3vr1EJq\">movies playing today in bengaluru</a>\n  </div>\n</div>\n"},"web_search_queries":["movies playing today in bengaluru","movie showtimes in bengaluru"]}}],"create_time":"2025-07-26T15:16:57.391400Z","response_id":"afGEaOjxF5aCsbQP-6yPQQ","model_version":"gemini-2.0-flash","usage_metadata":{"candidates_token_count":690,"candidates_tokens_details":[{"modality":"TEXT","token_count":690}],"prompt_token_count":249,"prompt_tokens_details":[{"modality":"TEXT","token_count":249}],"total_token_count":939,"traffic_type":"ON_DEMAND"},"automatic_function_calling_history":[]}
-----------------------------------------------------------

